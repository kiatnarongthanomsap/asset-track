# üìã ‡∏Ñ‡∏π‡πà‡∏°‡∏∑‡∏≠‡∏Å‡∏≤‡∏£‡∏•‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÅ‡∏•‡∏∞ Import ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÉ‡∏´‡∏°‡πà‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î

## ‚ö†Ô∏è ‡∏Ñ‡∏≥‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô
**‡∏™‡∏Ñ‡∏£‡∏¥‡∏õ‡∏ï‡πå‡∏ô‡∏µ‡πâ‡∏à‡∏∞‡∏•‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡πÉ‡∏ô‡∏ï‡∏≤‡∏£‡∏≤‡∏á `assets` ‡πÅ‡∏•‡∏∞ `audit_logs`**  
‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡πÅ‡∏•‡∏∞‡∏™‡∏≥‡∏£‡∏≠‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Å‡πà‡∏≠‡∏ô‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏Å‡∏≤‡∏£

---

## üöÄ ‡∏ß‡∏¥‡∏ò‡∏µ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô

### ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 1: ‡∏™‡∏£‡πâ‡∏≤‡∏á INSERT Statements ‡∏à‡∏≤‡∏Å‡πÑ‡∏ü‡∏•‡πå Excel

```bash
# ‡∏£‡∏±‡∏ô‡∏™‡∏Ñ‡∏£‡∏¥‡∏õ‡∏ï‡πå Python ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏™‡∏£‡πâ‡∏≤‡∏á INSERT statements
python3 generate_inserts.py insert_statements_supabase_new.sql
```

‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå:
- ‚úÖ ‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÑ‡∏ü‡∏•‡πå `insert_statements_supabase_new.sql`
- ‚úÖ ‡∏°‡∏µ‡∏´‡∏°‡∏ß‡∏î‡∏´‡∏°‡∏π‡πà: 24 ‡∏´‡∏°‡∏ß‡∏î
- ‚úÖ ‡∏°‡∏µ‡∏Ñ‡∏£‡∏∏‡∏†‡∏±‡∏ì‡∏ë‡πå: 673 ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£

### ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 2: ‡∏£‡∏±‡∏ô Migration Scripts

#### 2.1 ‡∏•‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î

‡πÄ‡∏õ‡∏¥‡∏î Supabase Dashboard > SQL Editor ‡πÅ‡∏•‡∏∞‡∏£‡∏±‡∏ô:

```sql
-- ‡∏•‡∏ö audit logs ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î
DELETE FROM audit_logs;

-- ‡∏•‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡πÉ‡∏ô‡∏ï‡∏≤‡∏£‡∏≤‡∏á assets
TRUNCATE TABLE assets RESTART IDENTITY CASCADE;
```

‡∏´‡∏£‡∏∑‡∏≠‡∏£‡∏±‡∏ô‡πÑ‡∏ü‡∏•‡πå `migration_reset_assets.sql`:

```sql
\i migration_reset_assets.sql
```

#### 2.2 Import ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÉ‡∏´‡∏°‡πà

‡∏£‡∏±‡∏ô‡πÑ‡∏ü‡∏•‡πå `insert_statements_supabase_new.sql` ‡∏ó‡∏µ‡πà‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÑ‡∏ß‡πâ:

```sql
\i insert_statements_supabase_new.sql
```

‡∏´‡∏£‡∏∑‡∏≠‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤‡∏à‡∏≤‡∏Å‡πÑ‡∏ü‡∏•‡πå `insert_statements_supabase_new.sql` ‡∏°‡∏≤‡∏ß‡∏≤‡∏á‡πÉ‡∏ô SQL Editor

#### 2.3 ‡∏≠‡∏±‡∏û‡πÄ‡∏î‡∏ï‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏ã‡∏∑‡πâ‡∏≠‡∏à‡∏≤‡∏Å‡∏£‡∏´‡∏±‡∏™ (‡∏ñ‡πâ‡∏≤‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ)

‡∏£‡∏±‡∏ô migration script ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏î‡∏∂‡∏á‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏ã‡∏∑‡πâ‡∏≠‡∏à‡∏≤‡∏Å‡∏£‡∏´‡∏±‡∏™‡∏ó‡∏£‡∏±‡∏û‡∏¢‡πå‡∏™‡∏¥‡∏ô:

```sql
\i migration_update_purchase_date_from_code.sql
```

#### 2.4 ‡∏≠‡∏±‡∏û‡πÄ‡∏î‡∏ï icon_name ‡πÅ‡∏•‡∏∞ useful_life ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏´‡∏°‡∏ß‡∏î‡∏´‡∏°‡∏π‡πà

‡∏£‡∏±‡∏ô migration scripts:

```sql
\i migration_update_icon_names.sql
\i migration_add_useful_life_to_categories.sql
```

---

## üìù ‡∏™‡∏£‡∏∏‡∏õ‡πÑ‡∏ü‡∏•‡πå‡∏ó‡∏µ‡πà‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Ç‡πâ‡∏≠‡∏á

### Migration Scripts:
1. **`migration_reset_assets.sql`** - ‡∏•‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î
2. **`migration_update_purchase_date_from_code.sql`** - ‡∏î‡∏∂‡∏á‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏ã‡∏∑‡πâ‡∏≠‡∏à‡∏≤‡∏Å‡∏£‡∏´‡∏±‡∏™
3. **`migration_update_icon_names.sql`** - ‡∏≠‡∏±‡∏û‡πÄ‡∏î‡∏ï icon ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏´‡∏°‡∏ß‡∏î‡∏´‡∏°‡∏π‡πà
4. **`migration_add_useful_life_to_categories.sql`** - ‡∏≠‡∏±‡∏û‡πÄ‡∏î‡∏ï‡∏£‡∏∞‡∏¢‡∏∞‡πÄ‡∏ß‡∏•‡∏≤‡∏Ñ‡∏¥‡∏î‡∏Ñ‡πà‡∏≤‡πÄ‡∏™‡∏∑‡πà‡∏≠‡∏°

### Data Files:
1. **`insert_statements_supabase_new.sql`** - INSERT statements ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö import ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÉ‡∏´‡∏°‡πà

### Python Scripts:
1. **`generate_inserts.py`** - ‡∏™‡∏£‡πâ‡∏≤‡∏á INSERT statements ‡∏à‡∏≤‡∏Å‡πÑ‡∏ü‡∏•‡πå Excel

---

## ‚úÖ ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå

‡∏´‡∏•‡∏±‡∏á‡∏à‡∏≤‡∏Å import ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÅ‡∏•‡πâ‡∏ß ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏î‡πâ‡∏ß‡∏¢‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á:

```sql
-- ‡∏î‡∏π‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î
SELECT COUNT(*) as total_assets FROM assets;

-- ‡∏î‡∏π‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏ã‡∏∑‡πâ‡∏≠
SELECT 
    COUNT(*) as total_assets,
    COUNT(purchase_date) as assets_with_date,
    COUNT(*) - COUNT(purchase_date) as assets_without_date
FROM assets;

-- ‡∏î‡∏π‡∏´‡∏°‡∏ß‡∏î‡∏´‡∏°‡∏π‡πà‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î
SELECT id, name, prefix, icon_name, useful_life 
FROM categories 
ORDER BY prefix;

-- ‡∏î‡∏π‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•
SELECT code, name, brand, purchase_date, category 
FROM assets 
ORDER BY code 
LIMIT 20;
```

---

## üîÑ ‡∏Å‡∏£‡∏∞‡∏ö‡∏ß‡∏ô‡∏Å‡∏≤‡∏£‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î (Quick Start)

```bash
# 1. ‡∏™‡∏£‡πâ‡∏≤‡∏á INSERT statements
python3 generate_inserts.py insert_statements_supabase_new.sql

# 2. ‡πÄ‡∏õ‡∏¥‡∏î Supabase Dashboard > SQL Editor

# 3. ‡∏£‡∏±‡∏ô migration scripts ‡∏ï‡∏≤‡∏°‡∏•‡∏≥‡∏î‡∏±‡∏ö:
#    - migration_reset_assets.sql (‡∏•‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•)
#    - insert_statements_supabase_new.sql (import ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•)
#    - migration_update_purchase_date_from_code.sql (‡∏≠‡∏±‡∏û‡πÄ‡∏î‡∏ï‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà)
#    - migration_update_icon_names.sql (‡∏≠‡∏±‡∏û‡πÄ‡∏î‡∏ï icon)
#    - migration_add_useful_life_to_categories.sql (‡∏≠‡∏±‡∏û‡πÄ‡∏î‡∏ï useful_life)
```

---

## üìå ‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏

- ‡∏£‡∏´‡∏±‡∏™‡∏ó‡∏£‡∏±‡∏û‡∏¢‡πå‡∏™‡∏¥‡∏ô‡∏à‡∏∞‡∏Ñ‡∏á‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö‡πÄ‡∏î‡∏¥‡∏°‡∏à‡∏≤‡∏Å Excel (‡πÄ‡∏ä‡πà‡∏ô `A004-09-04-2557`)
- ‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏ã‡∏∑‡πâ‡∏≠‡∏à‡∏∞‡∏ñ‡∏π‡∏Å‡∏î‡∏∂‡∏á‡∏à‡∏≤‡∏Å‡∏£‡∏´‡∏±‡∏™‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥ (‡∏ñ‡πâ‡∏≤‡∏°‡∏µ‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà)
- ‡∏´‡∏°‡∏ß‡∏î‡∏´‡∏°‡∏π‡πà‡∏à‡∏∞‡∏ñ‡∏π‡∏Å‡∏≠‡∏±‡∏û‡πÄ‡∏î‡∏ï icon ‡πÅ‡∏•‡∏∞ useful_life ‡∏ï‡∏≤‡∏°‡∏´‡∏•‡∏±‡∏Å‡∏£‡∏≤‡∏ä‡∏Å‡∏≤‡∏£
- ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡∏à‡∏∞‡∏ñ‡∏π‡∏Å‡∏•‡∏ö‡πÅ‡∏•‡∏∞‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÉ‡∏´‡∏°‡πà‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î

---

**‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏™‡∏£‡πâ‡∏≤‡∏á:** $(date)  
**‡πÄ‡∏ß‡∏≠‡∏£‡πå‡∏ä‡∏±‡∏ô:** 1.0

